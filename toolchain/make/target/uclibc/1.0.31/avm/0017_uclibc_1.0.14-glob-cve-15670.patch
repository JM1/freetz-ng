--- ./libc/misc/glob/glob.c.orig	2018-03-09 17:00:56.156463867 +0100
+++ ./libc/misc/glob/glob.c	2018-03-09 17:01:12.372560005 +0100
@@ -775,7 +775,7 @@
 	    {
 	      char *newp;
 	      newp = (char *) alloca (end_name - dirname);
-	      *((char *) mempcpy (newp, dirname + 1, end_name - dirname))
+	      *((char *) mempcpy (newp, dirname + 1, end_name - dirname - 1))
 		= '\0';
 	      user_name = newp;
 	    }
